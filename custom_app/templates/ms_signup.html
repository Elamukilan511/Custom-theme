<form class="form-signin form-signup hide" role="form" id="signupForm">
    <div class="signup-card">
        <div class="form-group">
            <!-- Row: tittle + First Name + Last Name -->
            <div class="form-row">
                <div class="form-group col-md-3">
                    <label class="form-label" for="tittle">{{ _("Tittle") }}<span class="reqd">*</span></label>
                    <select id="tittle" name="tittle" class="form-control" required>
                        <option value="">{{ _("Select") }}</option>
                        <option value="Dr">{{ _("Dr") }}</option>
                        <option value="Mrs">{{ _("Mrs") }}</option>
                        <option value="Mr">{{ _("Mr") }}</option>
                        <option value="Ms">{{ _("Ms") }}</option>
                        <option value="Prof">{{ _("Prof") }}</option>
                    </select>
                </div>
                <div class="form-group col-md-5">
                    <label class="form-label" for="first_name">{{ _("First Name") }}<span class="reqd">*</span></label>
                    <input type="text" id="first_name" name="first_name" class="form-control custom-input"
                        placeholder="{{ _('Jane') }}" required autocomplete="given-name">
                </div>
                <div class="form-group col-md-4">
                    <label class="form-label" for="last_name">{{ _("Last Name") }}<span class="reqd">*</span></label>
                    <input type="text" id="last_name" name="last_name" class="form-control custom-input"
                        placeholder="{{ _('Doe') }}" required autocomplete="family-name">
                </div>
            </div>

            <!-- Row: Email + Phone -->
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label class="form-label" for="signup_email">{{ _("Email") }}<span class="reqd">*</span></label>
                    <input type="email" id="signup_email" name="email" class="form-control custom-input"
                        placeholder="{{ _('jane@domain.com') }}" required autocomplete="username">
                </div>
                <div class="form-group col-md-6">
                    <label class="form-label" for="signup_phone">{{ _("Phone Number") }}</label>
                    <input type="tel" id="signup_phone" name="phone" class="form-control custom-input"
                        placeholder="{{ _('123-456-7890') }}" autocomplete="tel">
                </div>
            </div>

            <!-- Row: Institution + Role -->
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label class="form-label" for="institution">{{ _("Institution/Department") }}<span class="reqd">*</span></label>
                    <input type="text" id="institution" name="institution" class="form-control custom-input"
                        placeholder="{{ _('XYZ University / Dept. of Medicine') }}" required autocomplete="organization">
                </div>
                <div class="form-group col-md-6">
                    <label class="form-label" for="role">{{ _("Role") }}<span class="reqd">*</span></label>
                    <select id="role" name="role" class="form-control" required>
                        <option value="">{{ _("Select Role") }}</option>
                        <option value="Researcher">{{ _("Researcher") }}</option>
                        <option value="Clinician">{{ _("Clinician") }}</option>
                        <option value="Professor">{{ _("Professor") }}</option>
                        <option value="Student">{{ _("Student") }}</option>
                        <option value="Administrator">{{ _("Administrator") }}</option>
                        <option value="Other">{{ _("Other") }}</option>
                    </select>
                </div>
            </div>

            <!-- Row: Occupation -->
            <div class="form-row">
               <div class="form-group col-md-12">
                    <label class="form-label" for="occupation">Occupation</label>
                    <select id="occupation" name="occupation" class="form-control">
                         <option value="">Select Occupation</option>
                         <option value="Doctor">Doctor</option>
                         <option value="Engineer">Engineer</option>
                         <option value="Teacher">Teacher</option>
                         <option value="Student">Student</option>
                         <option value="Others">Others</option>
                    </select>
                </div>
             </div>
             <div class="form-row" id="other_occupation_field">
                <div class="form-group col-md-12">
                     <label class="form-label" for="other_occupation">Specify Occupation</label>
                     <input type="text" id="other_occupation" name="other_occupation" class="form-control custom-input"
                            placeholder="Enter your occupation">
                </div>
             </div>

            <hr class="divider-line">
            <!-- Address Section: Street, City, State, ZIP, Country -->
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label class="form-label" for="street_address">{{ _("Street Address") }}<span class="reqd">*</span></label>
                    <input type="text" id="street_address" name="street_address" class="form-control custom-input"
                        placeholder="{{ _('123 Main St') }}" required autocomplete="address-line1">
                </div>
                <div class="form-group col-md-6">
                    <label class="form-label" for="city">{{ _("City") }}<span class="reqd">*</span></label>
                    <input type="text" id="city" name="city" class="form-control custom-input"
                        placeholder="{{ _('City') }}" required autocomplete="address-level2">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label class="form-label" for="state">{{ _("State") }}<span class="reqd">*</span></label>
                    <input type="text" id="state" name="state" class="form-control custom-input"
                        placeholder="{{ _('State') }}" required autocomplete="address-level1">
                </div>
                <div class="form-group col-md-6">
                    <label class="form-label" for="zip">{{ _("ZIP Code") }}<span class="reqd">*</span></label>
                    <input type="text" id="zip" name="zip" class="form-control custom-input"
                        placeholder="{{ _('ZIP Code') }}" required autocomplete="postal-code">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-12">
                    <label class="form-label" for="country">{{ _("Country") }}<span class="reqd">*</span></label>
                    <input type="text" id="country" name="country" class="form-control custom-input"
                        placeholder="{{ _('Country') }}" required autocomplete="country">
                </div>
            </div>

            <!-- Checkbox: Confirm Age 18+ -->
            <div class="form-row mt-3">
                <div class="form-group col-md-12">
                    <div class="form-check custom-checkbox">
                        <input class="form-check-input" type="checkbox" id="age_confirm" name="age_confirm" required>
                        <label class="form-check-label" for="age_confirm">
                            {{ _("I confirm that I am 18 years of age or older") }}<span class="reqd">*</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Submit Section -->
        <div class="page-card-actions mt-4">
            <button class="btn btn-primary btn-block btn-signup custom-btn" type="submit">
                <span class="btn-text">{{ _("Sign up") }}</span>
                <span class="btn-loader" style="display: none;">
                    <svg class="spinner" width="20" height="20" viewBox="0 0 50 50">
                        <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
                    </svg>
                </span>
            </button>
            <p class="text-center sign-up-message mt-3">
                <a href="#login" class="custom-link">{{ _("Have an account? Login") }}</a>
            </p>
        </div>
    </div>
</form>
<style>
.form-signin.form-signup {
    display: flex;
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
/*    min-height: 100vh; */ 
    padding: 0px; 
    box-sizing: border-box;
}
.signup-card {
    background: #ffffff;
    border-radius: 12px;
    padding: 1rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    position: relative;
    overflow: hidden;
    border: 1px solid var(--border-color);
    width: 100%;
    max-width: 700px;
    margin: 0 auto;
}

.signup-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 5px;
}

/* Form Header */
/* .form-header {
    text-align: center;
    margin-bottom: 2rem;
}

.form-header .header-icon {
    margin-bottom: 0.5rem;
}

.form-header .form-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #1a3c61;
    margin-bottom: 0.3rem;
}

.form-header .form-subtitle {
    font-size: 0.95rem;
    color: #666;
} */

/* Form Group Styling */
.form-signup .form-group {
    margin-bottom: 1.5rem;
    position: relative;
    padding: 0 5px; /* Reduced padding to minimize side gaps */
}

.form-signup .form-row {
    margin: 0 -5px; /* Offset the padding of form-group to prevent extra space */
    display: flex; /* Ensure flexbox is applied */
    flex-wrap: wrap; /* Allow wrapping */
}

.form-signup .form-label {
    font-size: 0.9rem;
    font-weight: 600;
    color: #1a3c61;
    margin-bottom: 0.6rem;
    display: flex;
    align-items: center;
    transition: color 0.3s ease;
}

.form-signup .reqd {
    color: #ff5252;
    font-size: 0.85rem;
    margin-left: 3px;
}

.form-control {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 0.9rem;
    font-size: 0.95rem;
    background-color: #f9fcff;
    transition: all 0.3s ease;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.03);
    width: 100%;
}


/* Custom Input Styling */
.form-signup .custom-input, 
.form-signup .custom-select {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 0.9rem;
    font-size: 0.95rem;
    background-color: #f9fcff;
    transition: all 0.3s ease;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.03);
    width: 100%;
}

.form-signup .custom-input:focus,
.form-signup .custom-select:focus {
/*  border-color: #1976d2; */
    box-shadow: 0 0 8px rgba(25, 118, 210, 0.3);
    background-color: #fff;
    outline: none;
}

/* Input Validation Feedback */
.form-signup .custom-input:invalid:not(:placeholder-shown),
.form-signup .custom-select:invalid:not(:placeholder-shown) {
 /* border-color: #ff5252; */ 
    box-shadow: 0 0 8px rgba(255, 82, 82, 0.2);
}

.form-signup .custom-input:valid:not(:placeholder-shown) {
 /* border-color: #4caf50; */
    box-shadow: 0 0 8px rgba(76, 175, 80, 0.2);
}

/* Custom Select */
/* .form-signup .custom-select {
    appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.8rem center;
    background-size: 1.1rem;
    color: #555;
} 

.form-signup .custom-select:invalid {
    color: #999;
} */

/* Custom Checkbox */
.form-signup .custom-checkbox {
    display: flex;
    align-items: center; /* Align checkbox and label on the same line */
}

.form-signup .custom-checkbox .form-check-input {
    width: 1.3rem;
    height: 1.3rem;
    margin: 0; /* Remove default margin to align properly */
    border: 2px solid #e0e0e0;
    border-radius: 5px;
    transition: all 0.3s ease;
}

.form-signup .custom-checkbox .form-check-input:checked {
    background-color: #8d33c3;
    border-color: #8d33c3;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");
}

.form-signup .custom-checkbox .form-check-label {
    font-size: 0.9rem;
    color: #444;
    margin-left: 0.6rem; /* Space between checkbox and label */
    transition: color 0.3s ease;
    line-height: 1; /* Ensure the label text aligns vertically with the checkbox */
}

.form-signup .custom-checkbox .form-check-input:checked + .form-check-label {
    color: #444;
}

/* Custom Button */
.form-signup .custom-btn {
    background: linear-gradient(90deg, #6e4aa1, #a166c4);
    border: none;
    border-radius: 8px;
    padding: 1rem;
    font-size: 1.1rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: #fff;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.form-signup .custom-btn:hover {
    background: linear-gradient(90deg, #7c4fac, #7a308d);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(25, 118, 210, 0.4);
}

.form-signup .custom-btn:active {
    transform: translateY(0);
    box-shadow: 0 3px 10px rgba(25, 118, 210, 0.2);
}

.form-signup .custom-btn:disabled {
    background: #b0bec5;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

/* Button Loader Animation */
.form-signup .custom-btn .btn-loader {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-left: 10px;
}

.form-signup .custom-btn .spinner {
    animation: spin 1s linear infinite;
}

.form-signup .custom-btn .spinner .path {
    stroke: #fff;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
}

@keyframes spin {
    100% {
        transform: rotate(360deg);
    }
}

@keyframes dash {
    0% {
        stroke-dasharray: 1, 150;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 90, 150;
        stroke-dashoffset: -35;
    }
    100% {
        stroke-dasharray: 90, 150;
        stroke-dashoffset: -124;
    }
}

/* Custom Link */
.form-signup .custom-link {
    color: #1976d2;
/*    color: #444; */
    font-weight: 500;
    transition: all 0.3s ease;
}

.form-signup .custom-link:hover {
 /*   color: #1565c0; */
    color: #444; 
    text-decoration: underline;
}

/* Fade-in Animation for Form Fields */
.form-signup .form-row {
    animation: fadeIn 0.5s ease forwards;
    opacity: 0;
}

.form-signup .form-row:nth-child(1) { animation-delay: 0.1s; }
.form-signup .form-row:nth-child(2) { animation-delay: 0.2s; }
.form-signup .form-row:nth-child(3) { animation-delay: 0.3s; }
.form-signup .form-row:nth-child(4) { animation-delay: 0.4s; }
.form-signup .form-row:nth-child(5) { animation-delay: 0.5s; }
.form-signup .form-row:nth-child(6) { animation-delay: 0.6s; }
.form-signup .form-row:nth-child(7) { animation-delay: 0.7s; }
.form-signup .form-row:nth-child(8) { animation-delay: 0.8s; }

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Horizontal Line Styling */
.form-signup .divider-line {
    border: 0;
    height: 1px;
    background: #e0e0e0;
    margin: 1rem 0;
}
 #other_occupation_field {
            display: none;
        }

/* Responsive Adjustments for Mobile View */
  @media (max-width: 768px) {
    .form-signin.form-signup {
        padding: 10px; /* Reduce padding to minimize extra space around the form */
    }
    .signup-card {
        padding: 0rem;
        max-width: 100%;
        box-shadow: none;
        border: none; 
        background: transparent;
        margin: 0; 
    }

    /* Preserve the row layout for all form rows */
    .form-signup .form-row {
        flex-direction: row; /* Keep items in a row, same as web view */
        flex-wrap: nowrap; /* Prevent wrapping to ensure fields stay side by side */
        width: 100%;
        margin: 0;
    }

    /* Adjust widths for Tittle, First Name, and Last Name */
    .form-signup .form-row:nth-child(1) .form-group.col-md-3 { /* Tittle */
        flex: 0 0 25%; /* Roughly equivalent to col-md-3 (3/12) */
        max-width: 25%;
        padding: 0 5px;
    }
    .form-signup .form-row:nth-child(1) .form-group.col-md-5 { /* First Name */
        flex: 0 0 41.67%; /* Roughly equivalent to col-md-5 (5/12) */
        max-width: 41.67%;
        padding: 0 5px;
    }
    .form-signup .form-row:nth-child(1) .form-group.col-md-4 { /* Last Name */
        flex: 0 0 33.33%; /* Roughly equivalent to col-md-4 (4/12) */
        max-width: 33.33%;
        padding: 0 5px;
    }

    /* Adjust widths for Email and Phone Number */
    .form-signup .form-row:nth-child(2) .form-group.col-md-6 { /* Email and Phone */
        flex: 0 0 50%; /* Equivalent to col-md-6 (6/12) */
        max-width: 50%;
        padding: 0 5px;
    }

    /* Adjust widths for Institution/Department and Role */
    .form-signup .form-row:nth-child(3) .form-group.col-md-6 { /* Institution and Role */
        flex: 0 0 50%; /* Equivalent to col-md-6 (6/12) */
        max-width: 50%;
        padding: 0 5px;
    }

    /* Adjust width for Occupation */
    .form-signup .form-row:nth-child(4) .form-group.col-md-12 { /* Occupation */
        flex: 0 0 100%; /* Equivalent to col-md-12 (12/12) */
        max-width: 100%;
        padding: 0 5px;
    }

    /* Adjust widths for Street Address and City */
    .form-signup .form-row:nth-child(5) .form-group.col-md-6 { /* Street Address and City */
        flex: 0 0 50%; /* Equivalent to col-md-6 (6/12) */
        max-width: 50%;
        padding: 0 5px;
    }

    /* Adjust widths for State and ZIP Code */
    .form-signup .form-row:nth-child(6) .form-group.col-md-6 { /* State and ZIP Code */
        flex: 0 0 50%; /* Equivalent to col-md-6 (6/12) */
        max-width: 50%;
        padding: 0 5px;
    }

    /* Adjust width for Country */
    .form-signup .form-row:nth-child(7) .form-group.col-md-12 { /* Country */
        flex: 0 0 100%; /* Equivalent to col-md-12 (12/12) */
        max-width: 100%;
        padding: 0 5px;
    }

    /* Adjust width for Checkbox */
    .form-signup .form-row:nth-child(8) .form-group.col-md-12 { /* Checkbox */
        flex: 0 0 100%; /* Equivalent to col-md-12 (12/12) */
        max-width: 100%;
        padding: 0 5px;
    }
     .form-signup .form-row:nth-child(9) .form-group.col-md-12 { /* Checkbox */
        flex: 0 0 100%; /* Equivalent to col-md-12 (12/12) */
        max-width: 100%;
        padding: 0 5px;
    }
    .form-signup .form-group {
        padding: 0 5px;
        background: transparent; 
        box-shadow: none; 
        border: none; 
    }

    .form-signup .custom-btn {
        font-size: 1rem;
        padding: 0.9rem;
    }

    .form-signup .form-label {
        font-size: 0.85rem;
    }

    .form-signup .custom-input,
    .form-signup .custom-select {
        font-size: 0.9rem;
        padding: 0.8rem;
        background-color: #f9fcff;
        border: 1px solid #e0e0e0;
        width: 100%;
    }

   /* .form-header .form-title {
        font-size: 1.3rem;
    } */

    /* Ensure checkbox and label remain on the same line on smaller screens */
    .form-signup .custom-checkbox {
        flex-wrap: nowrap; /* Prevent wrapping on smaller screens */
    }

    .form-signup .custom-checkbox .form-check-label {
        font-size: 0.85rem;
    }

    .page-card-actions {
        background: transparent;
        box-shadow: none;
        border: none;
        padding: 0;
        margin: 0;
    }
}
</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function () {
    // Ensure the other occupation field is hidden by default
    $("#other_occupation_field").hide();
    // Handle occupation dropdown change
    $("#occupation").on("change", function () {
        const selectedValue = $(this).val();
        if (selectedValue === "Others") {
            $("#other_occupation_field").show();
        } else {
            $("#other_occupation_field").hide();
            $("#other_occupation").val(""); // Clear the text field when hidden
        }
    });

    // Form submission handling with loading animation
    $("#signupForm").on("submit", function (e) {
        e.preventDefault(); // Prevent default form submission for demo

        const $button = $(this).find(".custom-btn");
        const $buttonText = $button.find(".btn-text");
        const $buttonLoader = $button.find(".btn-loader");

        // Disable button and show loader
        $button.prop("disabled", true);
        $buttonText.text("Signing up...");
        $buttonLoader.show();

        // Simulate form submission delay (replace with actual submission logic)
        setTimeout(() => {
            $button.prop("disabled", false);
            $buttonText.text("Sign up");
            $buttonLoader.hide();
            alert("Signup successful! (This is a demo)");
        }, 2000);
    });

    // Real-time email validation feedback
    $("#signup_email").on("input", function () {
        const email = $(this).val();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (email && !emailRegex.test(email)) {
            $(this).addClass("invalid");
        } else {
            $(this).removeClass("invalid");
        }
    });

    // Real-time phone validation feedback
    $("#signup_phone").on("input", function () {
        const phone = $(this).val();
        const phoneRegex = /^\d{3}-\d{3}-\d{4}$/;
        if (phone && !phoneRegex.test(phone)) {
            $(this).addClass("invalid");
        } else {
            $(this).removeClass("invalid");
        }
    });

    // Real-time ZIP code validation feedback
    $("#zip").on("input", function () {
        const zip = $(this).val();
        const zipRegex = /^\d{5}(-\d{4})?$/;
        if (zip && !zipRegex.test(zip)) {
            $(this).addClass("invalid");
        } else {
            $(this).removeClass("invalid");
        }
    });
});
</script>
